---
import Layout from "../layouts/Layout.astro";
import { getCollection, render } from "astro:content";

const faqs = (await getCollection("faqs")).sort(
  (a, b) =>  a.data.position - b.data.position,
);
---

<Layout title="Our FAQs">
  <div class="flex flex-col gap-4">
    Check these out:
  {
    faqs.map(async (faq) => {
      const { Content } = await render(faq);
      return (
        <details class="bg-white px-8 py-4">
          <summary class="text-lg font-bold" set:html={faq.data.Q} />
          <div class="mt-2"><Content /></div>
        </details>
      );
    })
  }</div>
</Layout>
